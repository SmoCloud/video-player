<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Z<sup>2</sup></title>
    <link href="https://vjs.zencdn.net/8.16.1/video-js.css" rel="stylesheet" />
    <script type="text/javascript" src="https://vjs.zencdn.net/8.16.1/video.min.js"></script>
    <link rel="stylesheet" href="css/styles.css" type="text/css" />
</head>
<body>
    <header>
    <div class="logo">
        <img src="imgs/basicLogo.jpeg" alt="Logo" />
    </div>
    <div class="searchbar">
        <form action="player.html" method="post">
            <input name="comments" type="hidden" id="user-comments" value="<%= comments %>"/>
            <input type="text" name="srch" placeholder="Search..." />
            <button id="searchbtn" type="submit">Search</button>
        </form>
    </div>
    </header>
    <div class="sidebar">
        <form action="login.html" method="get"><button type="submit" class="sidebar-button" id="acct-btn"><img src="imgs/default_avatar.png" alt="Account Login" width="100px" height="auto"/></button></form>
        <br>
        <% if (typeof(user) !== "undefined" && user) { %>
        <p style="color:white;"><%= user.username; %></p>
        <% } %>
        <br>
        <form action="index.html" method="get"><button type="submit" class="sidebar-button" id="home-btn">Home</button></form>
        <form action="upload.html" method="get"><button type="submit" class="sidebar-button" id="home-btn">Upload</button></form>
        <form action="liked.html" method="get"><button type="submit" class="sidebar-button" id="liked-videos-btn">Liked Videos</button></form>
        <form action="history.html" method="get"><button type="submit" class="sidebar-button" id="history-btn">Watched Videos</button></form>
    </div>
    <div id = "main-content">
        <div id="video-container" class="vjs-matrix">
            <video id="my-video" class="video-js" controls preload="auto" width="640" height="440" data-setup="{}">
                <source id="z-source" src="<%= vData.url %>" type="video/mp4" />
            </video>
        <div id="video-title"><%= vData.title %></div>
    </div>
    <form action="player.html" method="post">
        <div class="button-container">
            <input name="comments" type="hidden" id="user-comments" value="<%= comments %>"/>
            <button id="like-btn" name="liked" class="like-button" value="true">Like</button>
            <button id="dislike-btn" name="disliked" class="dislike-button" value="true">Dislike</button>
        </div>
    </form>
    <form action="player.html" method="post">
        <div class="comment-section">
            <h3>Comments</h3>
            <input name="comments" type="hidden" id="user-comments" value="<%= comments %>"/>
            <textarea name="commented" id="comment-input" placeholder="Write a comment..."></textarea>
            <button id="submit-comment">Submit</button>
            <div name="comments-box" id="comments-container">
                <% 
                for (const comment in comments) { %>
                    <pre><%= comments[comment].username; %></pre>
                    <pre>     <%= comments[comment].comment; %></pre>
                <% } %>
            </div>
        </div>
    </form>
    </div>
</body>
</html>